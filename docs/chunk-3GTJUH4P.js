import{b as C}from"./chunk-YUHTMLEM.js";import"./chunk-SICOUY3U.js";import{c as R,e as b}from"./chunk-Q5LKWL7Z.js";import"./chunk-5XSUVUQD.js";import"./chunk-YWHKL5VD.js";import{o as x}from"./chunk-S5NHJLHY.js";import{A as c,D as d,La as s,M as m,Ta as S,U as h,Ua as w,Va as f,X as T,Xa as n,bb as u,cb as _,db as l,j as v,jb as g,vb as y}from"./chunk-ULJBGOCL.js";var M=()=>[b];function $(t,o){if(t&1&&(u(0,"section",0),l(1,"app-movie-tv-list",1)(2,"app-movie-tv-list",1)(3,"app-movie-tv-list",1),_()),t&2){let r=g();s(),n("title","On The Air")("movies",r.onTheAirTvShows)("isMovie",!1)("withType","on_the_air"),s(),n("title","Popular")("movies",r.popularTvShows)("isMovie",!1)("withType","popular"),s(),n("title","Top Rated")("movies",r.topRatedTvShows)("isMovie",!1)("withType","top_rated")}}function L(t,o){t&1&&l(0,"app-spinner")}var z=(()=>{let o=class o{constructor(){this.titleService=h(x),this.tvShowsService=h(C),this.destroy$=new v,this.onTheAirTvShows=[],this.topRatedTvShows=[],this.popularTvShows=[]}ngOnInit(){this.titleService.setTitle("Cinemaze | TV Shows"),this.getAllTvShows()}getAllTvShows(){this.isLoading=!0;let i=this.getTvShows("on_the_air",1),e=this.getTvShows("popular",1),p=this.getTvShows("top_rated",1);i.pipe(c(e,p)).subscribe({next:([a,A,D])=>{this.handleTvShowsResponse("on_the_air",a.results),this.handleTvShowsResponse("popular",A.results),this.handleTvShowsResponse("top_rated",D.results),this.isLoading=!1},error:a=>{this.isLoading=!1,console.error(a.status_message)}})}getTvShows(i,e){return this.tvShowsService.getTVShows(i,e).pipe(d(1),m(this.destroy$))}handleTvShowsResponse(i,e){switch(i){case"on_the_air":this.onTheAirTvShows=e||[];break;case"popular":this.popularTvShows=e||[];break;case"top_rated":this.topRatedTvShows=e||[];break}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=T({type:o,selectors:[["app-tv-shows"]],standalone:!0,features:[y],decls:4,vars:1,consts:[[1,"px-4","pt-4","md:pt-2"],[3,"title","movies","isMovie","withType"]],template:function(e,p){e&1&&(S(0,$,4,12)(1,L,1,0),w(2,0,M,null,1)),e&2&&(s(2),f(!p.isLoading))},dependencies:[R]});let t=o;return t})();export{z as TvShowsComponent};
