import{a as j,b as F}from"./chunk-4UG77ZOK.js";import"./chunk-SICOUY3U.js";import{c as N}from"./chunk-EQHU2TRT.js";import{b as P,d as z}from"./chunk-FI3FUA7H.js";import"./chunk-YB7CJQYF.js";import{h as R,o as k}from"./chunk-7C2JMYPF.js";import{$a as m,A as M,Ba as T,D as d,Ia as n,M as l,Qa as f,Ra as b,Sa as D,U as v,Ua as _,Wa as u,X as y,Xa as I,Ya as $,Za as V,_a as r,ab as c,fb as a,gb as O,hb as E,j as C,lb as p,mb as w,nb as S,rb as L}from"./chunk-HAJA6DEO.js";var A=()=>[R,import("./chunk-7E6ETKMO.js").then(t=>t.ImgMissingDirective),import("./chunk-GZYIOKNH.js").then(t=>t.MovieInfoComponent),import("./chunk-IJALPWJY.js").then(t=>t.TvShowInfoComponent)];function B(t,o){if(t&1&&(r(0,"span",12),p(1),m()),t&2){let e=o.$implicit;n(),S(" ",e.name," ")}}function q(t,o){if(t&1&&(r(0,"p",13)(1,"i"),p(2),m()()),t&2){let e=a(2);n(2),w(e.isMovie?e.movie.tagline:e.tv.tagline)}}function G(t,o){if(t&1&&(r(0,"p"),p(1),m()),t&2){let e=a(2);n(),w(e.isMovie?e.movie.overview:e.tv.overview)}}function H(t,o){if(t&1&&(r(0,"p"),p(1),m()),t&2){let e=a(2);n(),S("No description for ",e.isMovie?e.movie.title:e.tv.name,"")}}function J(t,o){if(t&1&&c(0,"app-movie-info",11),t&2){let e=a(2);_("movie",e.movie)("recommendedMovies",e.recommendedMovies)("movieVideos",e.movieVideos)}}function K(t,o){if(t&1&&c(0,"app-tv-show-info",14),t&2){let e=a(2);_("tvShow",e.tv)("recommendedTvShows",e.recommendedTvShows)}}function Q(t,o){if(t&1&&(r(0,"section",0),c(1,"img",1)(2,"div",2),r(3,"article",3)(4,"div",4),c(5,"img",5),m(),r(6,"div",6)(7,"h1",7),p(8),m(),r(9,"ul",8),$(10,B,2,1,"span",15,I),m(),r(12,"div"),f(13,q,3,1,"p",9),r(14,"h4",10),p(15," Overview "),m(),f(16,G,2,1,"p")(17,H,2,1),m()()()(),f(18,J,1,3,"app-movie-info",11)(19,K,1,2)),t&2){let e=a();n(),O("src","https://image.tmdb.org/t/p/w1280"+(e.isMovie?e.movie.backdrop_path:e.tv.backdrop_path),T),_("alt",e.isMovie?e.movie.title:e.tv.name),n(4),E("ngSrc","https://image.tmdb.org/t/p/w300_and_h450_bestv2/",e.isMovie?e.movie.poster_path:e.tv.poster_path,""),_("alt",e.isMovie?e.movie.title:e.tv.name)("height",450)("width",300),n(3),S(" ",e.isMovie?e.movie.title:e.tv.name," "),n(2),V(e.isMovie?e.movie.genres:e.tv.genres),n(3),u(13,e.isMovie&&e.movie.tagline||!e.isMovie&&e.tv.tagline?13:-1),n(3),u(16,e.isMovie&&e.movie.overview||!e.isMovie&&e.tv.overview?16:17),n(2),u(18,e.isMovie?18:19)}}function X(t,o){t&1&&c(0,"app-spinner")}var pe=(()=>{let o=class o{constructor(){this.titleService=v(k),this.route=v(P),this.router=v(z),this.moviesService=v(j),this.tvShowsService=v(F),this.destroy$=new C,this.contentType="",this.recommendedMovies=[],this.movieVideos=[],this.recommendedTvShows=[],this.isLoading=!1}ngOnInit(){this.contentType=this.router.url.split("/")[1],this.route.params.subscribe(i=>{let s=i.id;this.isMovie=this.contentType==="movies",this.isLoading=!0,this.isMovie?this.getMovie(s):this.getTvShow(s)})}getMovie(i){let s=this.moviesService.getMovie(i).pipe(d(1),l(this.destroy$)),x=this.getRecommendedMovies(i),h=this.getMovieVideo(i);s.pipe(M(x,h)).subscribe({next:([g,U,W])=>{this.movie=g,this.recommendedMovies=U.results??[],this.movieVideos=W.results??[],this.titleService.setTitle("Cinemaze | "+this.movie.title),this.isLoading=!1},error:g=>{this.isLoading=!1,console.error(g.status_message)}})}getTvShow(i){let s=this.tvShowsService.getTVShow(i).pipe(d(1),l(this.destroy$)),x=this.getRecommendTVShows(i);s.pipe(M(x)).subscribe({next:([h,g])=>{this.tv=h,this.recommendedTvShows=g.results??[],this.titleService.setTitle("Cinemaze | "+this.tv.name),this.isLoading=!1},error:h=>{this.isLoading=!1,console.error(h.status_message)}})}getRecommendedMovies(i){return this.moviesService.getRecommendedMovies(i).pipe(d(1),l(this.destroy$))}getMovieVideo(i){return this.moviesService.getMovieVideos(i).pipe(d(1),l(this.destroy$))}getRecommendTVShows(i){return this.tvShowsService.getRecommendTVShows(i).pipe(d(1),l(this.destroy$))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};o.\u0275fac=function(s){return new(s||o)},o.\u0275cmp=y({type:o,selectors:[["app-details"]],standalone:!0,features:[L],decls:4,vars:1,consts:[[1,"details","relative","isolate","shadow-down"],[1,"!absolute","inset-0","-z-10","h-full","w-full","object-cover","brightness-25",3,"alt","src"],[1,"absolute","inset-0","-z-10","bg-gradient-to-r","from-red-700/25"],[1,"container","grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"flex","justify-center","md:justify-end"],["appMissingPicture","",1,"h-fit","relative","rounded-xl","select-none",3,"alt","ngSrc","height","width"],[1,"col-span-2","grid","gap-4","self-center"],[1,"sm:text-4xl","xs:text-3xl","text-[28.75px]","font-extrabold","sm:leading-tight","xs:leading-normal"],[1,"flex","flex-row","items-center","md:gap-4","sm:gap-[14px]","xs:gap-3","gap-[6px]","flex-wrap","transform-none"],["class","text-neutral-50 mb-2"],[1,"font-bold","md:text-[18px]","sm:text-[16.75px]","xs:text-[15.75px]","text-[14.75px]","mb-1"],[3,"movie","recommendedMovies","movieVideos"],[1,"genre","md:text-[12.75px]","sm:text-[12px]","xs:text-[11.75px]","text-[10.75px]","sm:py-1","py-[2.75px]","sm:px-3","px-[10px]","rounded-full","dark:text-gray-300"],[1,"text-neutral-50","mb-2"],[3,"tvShow","recommendedTvShows"],["class","genre md:text-[12.75px] sm:text-[12px] xs:text-[11.75px] text-[10.75px] sm:py-1 py-[2.75px] sm:px-3 px-[10px] rounded-full dark:text-gray-300"]],template:function(s,x){s&1&&(f(0,Q,20,10)(1,X,1,0),b(2,0,A,null,1)),s&2&&(n(2),D(!x.isLoading))},dependencies:[N],styles:[".details[_ngcontent-%COMP%]{padding:4rem 1rem}@media (min-width: 768px){.details[_ngcontent-%COMP%]{padding:8rem 2rem}}@media (min-width: 1024px){.details[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{margin:0 auto;max-width:1024px}}.genre[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1px #fff}"]});let t=o;return t})();export{pe as DetailsComponent};
